(window.webpackJsonp=window.webpackJsonp||[]).push([[68],{306:function(e,t,r){e.exports=r.p+"assets/img/r-view-bottom.d9b43c62.jpg"},307:function(e,t,r){e.exports=r.p+"assets/img/r-view.f3fddfa7.jpg"},308:function(e,t,r){e.exports=r.p+"assets/img/t-view.1710f07a.png"},309:function(e,t,r){e.exports=r.p+"assets/img/t-view-bottom.9d7542d9.png"},750:function(e,t,r){"use strict";r.r(t);var a=r(14),o=Object(a.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"_1-gnss-mag-baro"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-gnss-mag-baro"}},[e._v("#")]),e._v(" 1. GNSS Mag Baro")]),e._v(" "),t("p",[e._v("The node is designed for light unmanned aerial (UAV) and other vehicles.")]),e._v(" "),t("p",[e._v("It has 3 types of sensors:")]),e._v(" "),t("ol",[t("li",[e._v("GNSS module: u-blox L1 "),t("a",{attrs:{href:"https://www.u-blox.com/en/product/max-8-series",target:"_blank",rel:"noopener noreferrer"}},[e._v("NEO-M8"),t("OutboundLink")],1),e._v(" or L1/L2 "),t("a",{attrs:{href:"https://www.u-blox.com/en/product/zed-f9p-module",target:"_blank",rel:"noopener noreferrer"}},[e._v("ZED-F9P"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Barometer: "),t("a",{attrs:{href:"https://cdn-shop.adafruit.com/datasheets/BST-BMP280-DS001-11.pdf",target:"_blank",rel:"noopener noreferrer"}},[e._v("BMP280"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Magnetometers: "),t("a",{attrs:{href:"https://ekb.terraelectronica.ru/pdf/show?pdf_file=%252Fds%252Fpdf%252FR%252FRM3100.pdf",target:"_blank",rel:"noopener noreferrer"}},[e._v("RM3100"),t("OutboundLink")],1),e._v(" and/or "),t("a",{attrs:{href:"https://cdn-shop.adafruit.com/datasheets/HMC5883L_3-Axis_Digital_Compass_IC.pdf",target:"_blank",rel:"noopener noreferrer"}},[e._v("HMC5883L"),t("OutboundLink")],1)])]),e._v(" "),t("p",[e._v("The node supports 2 interfaces. Please refer the corresponded section for details:")]),e._v(" "),t("ul",[t("li",[t("RouterLink",{attrs:{to:"/guide/gps_mag_baro/cyphal.html"}},[e._v("Cyphal interface")])],1),e._v(" "),t("li",[t("RouterLink",{attrs:{to:"/guide/gps_mag_baro/dronecan.html"}},[e._v("DroneCAN interface")])],1)]),e._v(" "),t("h2",{attrs:{id:"_1-1-variations"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-variations"}},[e._v("#")]),e._v(" 1.1 Variations")]),e._v(" "),t("p",[e._v("There are different types of such GNSS magnetometer barometer nodes. They are illustrated below.")]),e._v(" "),t("table",[t("thead",[t("tr",[t("th",[e._v("L1/L2 ZED-F9P")]),e._v(" "),t("th",[e._v("L1/L2 ZED-F9P "),t("br"),e._v(" With external antenna")]),e._v(" "),t("th",[e._v("L1 NEO-M8N")]),e._v(" "),t("th",[e._v("MAGNETOMETER")])])]),e._v(" "),t("tbody",[t("tr",[t("td",[t("img",{attrs:{src:r(306),alt:"drawing",width:"256"}})]),e._v(" "),t("td",[t("img",{attrs:{src:r(307),alt:"drawing",width:"256"}})]),e._v(" "),t("td",[t("img",{attrs:{src:r(308),alt:"drawing",width:"256"}})]),e._v(" "),t("td",[t("img",{attrs:{src:r(309),alt:"drawing",width:"256"}})])])])]),e._v(" "),t("ol",[t("li",[t("RouterLink",{attrs:{to:"/guide/gps_mag_baro/gps_l1_l2_zed_f9p.html"}},[e._v("L1/L2 RTK GNSS ZED-F9P")]),e._v(" is the top variant of GNSS module. Using this module you can get high accuracy of global coordinates and magnetic field data.")],1),e._v(" "),t("li",[t("RouterLink",{attrs:{to:"/guide/gps_mag_baro/gnss_external_antenna_f9p_v320.html"}},[e._v("L1/L2 RTK GNSS ZED-F9P With external antenna")]),e._v(" same GNSS module but reduced to use with external antenna only.")],1),e._v(" "),t("li",[t("RouterLink",{attrs:{to:"/guide/gps_mag_baro/gnss_v250.html"}},[e._v("L1 GNSS NEO-M8N")]),e._v(" is just common variant of GNSS module self powered with built-in DC-DC and communicates over CAN bus.")],1),e._v(" "),t("li",[t("RouterLink",{attrs:{to:"/guide/gps_mag_baro/mag_rm3100.html"}},[e._v("MAGNETOMETER RM3100")]),e._v(" is just magnetometer variation of the same board.")],1)]),e._v(" "),t("h2",{attrs:{id:"_1-2-main-function-description"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-main-function-description"}},[e._v("#")]),e._v(" 1.2 Main function description")]),e._v(" "),t("p",[e._v("This node primary has 3 features: GNSS, magnetometer and barometer. You may select in real time which features you need using Cyphal registers or DroneCAN parameters.")]),e._v(" "),t("p",[e._v("Below general features of the node are listed. For interface specific details please check "),t("RouterLink",{attrs:{to:"/guide/gps_mag_baro/cyphal.html"}},[e._v("3. Cyphal interface")]),e._v(" or "),t("RouterLink",{attrs:{to:"/guide/gps_mag_baro/dronecan.html"}},[e._v("4. DroneCAN interface")]),e._v(".")],1),e._v(" "),t("h3",{attrs:{id:"_1-2-1-gnss-module"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-1-gnss-module"}},[e._v("#")]),e._v(" 1.2.1 GNSS module")]),e._v(" "),t("p",[e._v("If this feature is enabled, the node will receive the data from GNSS via UART (the communication protocol is "),t("a",{attrs:{href:"https://www.u-blox.com/sites/default/files/products/documents/u-blox8-M8_ReceiverDescrProtSpec_%28UBX-13003221%29.pdf",target:"_blank",rel:"noopener noreferrer"}},[e._v("ublox"),t("OutboundLink")],1),e._v(", expected messages are "),t("code",[e._v("NavPvt")]),e._v(", "),t("code",[e._v("NavCov")]),e._v(", "),t("code",[e._v("NavStatus")]),e._v(") and send it to CAN as DroneCAN message or set of Cyphal messages depending on which interface you use.")]),e._v(" "),t("p",[e._v("GNSS module works with baudrate 921600.")]),e._v(" "),t("p",[e._v("At this moment you need to manually set up the ublox module before first use. Below you can see the instructions how to setup it.")]),e._v(" "),t("h3",{attrs:{id:"performance"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#performance"}},[e._v("#")]),e._v(" Performance")]),e._v(" "),t("p",[e._v("The raw GNSS-module needs 1 ms to send a "),t("code",[e._v("UbxNavPvt")]),e._v(" package via UART (the baud rate is 921600, a package length is 100 bytes).")]),e._v(" "),t("p",[e._v("This board as a wrapper under GNSS-module needs less than 4 ms to serialize this package and send to CAN-bus.")]),e._v(" "),t("p",[e._v("The publishing frequency of "),t("a",{attrs:{href:"https://dronecan.github.io/Specification/7._List_of_standard_data_types/#fix2",target:"_blank",rel:"noopener noreferrer"}},[e._v("uavcan.equipment.gnss.Fix2"),t("OutboundLink")],1),e._v(" depends on the publishing rate of "),t("code",[e._v("UbxNavPvt")]),e._v(", so it can change from 10 to 1 Hz depending on "),t("a",{attrs:{href:"https://www.u-blox.com/en/product/neo-m8-series",target:"_blank",rel:"noopener noreferrer"}},[e._v("NEO-M8N"),t("OutboundLink")],1),e._v(".")]),e._v(" "),t("h3",{attrs:{id:"_1-2-2-barometer"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-2-barometer"}},[e._v("#")]),e._v(" 1.2.2 Barometer")]),e._v(" "),t("p",[e._v("The node uses "),t("a",{attrs:{href:"https://cdn-shop.adafruit.com/datasheets/BST-BMP280-DS001-11.pdf",target:"_blank",rel:"noopener noreferrer"}},[e._v("BMP280"),t("OutboundLink")],1),e._v(" barometer. Communication with the sensor is carried out using I2C.")]),e._v(" "),t("p",[e._v("Control measurement settings:")]),e._v(" "),t("ul",[t("li",[e._v("pressure oversampling is 8: high resolution, 19 bit / 0.33 Pa")]),e._v(" "),t("li",[e._v("temperature oversampling is 8: 19 bit / 0.0006 °C")]),e._v(" "),t("li",[e._v("the data rate is up to 50 Hz if standby time is less then 0.5 ms")]),e._v(" "),t("li",[e._v("normal mode")])]),e._v(" "),t("h3",{attrs:{id:"_1-2-3-magnetometer"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-3-magnetometer"}},[e._v("#")]),e._v(" 1.2.3 Magnetometer")]),e._v(" "),t("p",[e._v("The node supports 2 types of magnetometers: "),t("a",{attrs:{href:"https://ekb.terraelectronica.ru/pdf/show?pdf_file=%252Fds%252Fpdf%252FR%252FRM3100.pdf",target:"_blank",rel:"noopener noreferrer"}},[e._v("RM3100"),t("OutboundLink")],1),e._v(" and "),t("a",{attrs:{href:"https://cdn-shop.adafruit.com/datasheets/HMC5883L_3-Axis_Digital_Compass_IC.pdf",target:"_blank",rel:"noopener noreferrer"}},[e._v("HMC5883L"),t("OutboundLink")],1),e._v(". You may choose the one you need at runtime using parameters.")]),e._v(" "),t("p",[e._v("Before the first measurement, this node performs initialization for the chosen magnetometer. Configuration settings are predefined in firmware and shown in the table below.")]),e._v(" "),t("ol",[t("li",[t("a",{attrs:{href:"https://cdn-shop.adafruit.com/datasheets/HMC5883L_3-Axis_Digital_Compass_IC.pdf",target:"_blank",rel:"noopener noreferrer"}},[e._v("HMC5883L"),t("OutboundLink")],1),e._v(":")])]),e._v(" "),t("ul",[t("li",[e._v("i2c bus,")]),e._v(" "),t("li",[e._v("Continuous-Measurement Mode with Normal measurement configuration,")]),e._v(" "),t("li",[e._v("the measurement rate is 30 Hz (15 Hz is the default),")]),e._v(" "),t("li",[e._v("adjustable publish rate up to 30 Hz using parameter,")]),e._v(" "),t("li",[e._v("number of samples is 2 (1 is the default),")]),e._v(" "),t("li",[e._v("the sensor field range is ± 1.3 Ga (by default), so digital resolution is 0.92 mG/LSb.")])]),e._v(" "),t("ol",{attrs:{start:"2"}},[t("li",[t("a",{attrs:{href:"https://ekb.terraelectronica.ru/pdf/show?pdf_file=%252Fds%252Fpdf%252FR%252FRM3100.pdf",target:"_blank",rel:"noopener noreferrer"}},[e._v("RM3100"),t("OutboundLink")],1)])]),e._v(" "),t("ul",[t("li",[e._v("SPI bus")]),e._v(" "),t("li",[e._v("Continuous Measurement Mode,")]),e._v(" "),t("li",[e._v("the measurement rate is 75 Hz (37 Hz is the default),")]),e._v(" "),t("li",[e._v("adjustable publish rate up to 75 Hz using parameter,")]),e._v(" "),t("li",[e._v("cycle count is 200 (by default), so the gain is 75 LSB/µT, sensitivity is 13 nT,")]),e._v(" "),t("li",[e._v("field Measurement Range is from -800 to +800 uT.")])]),e._v(" "),t("h2",{attrs:{id:"_1-3-auxiliary-functions-description"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-auxiliary-functions-description"}},[e._v("#")]),e._v(" 1.3 Auxiliary functions description")]),e._v(" "),t("p",[e._v("The node has an internal RGB led that may allow you to understand possible problems. Please refer to "),t("RouterLink",{attrs:{to:"/guide/intro/leds.html"}},[e._v("LED meaning")]),e._v(" page to get more details.")],1),e._v(" "),t("h2",{attrs:{id:"_1-4-software-update"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-software-update"}},[e._v("#")]),e._v(" 1.4 Software update")]),e._v(" "),t("p",[e._v("The node doesn't yet support software upload via CAN yet. But the next generation of the device will be. We will be using a "),t("a",{attrs:{href:"https://github.com/Zubax/kocherga",target:"_blank",rel:"noopener noreferrer"}},[e._v("Kocherga bootloader"),t("OutboundLink")],1),e._v(" in the future. At the moment the only way to upload the software is to use a programmer. See "),t("a",{attrs:{href:"https://raccoonlabdev.github.io/docs/guide/programmer_sniffer/#_3-programmer-usage",target:"_blank",rel:"noopener noreferrer"}},[e._v("the programmer usage section"),t("OutboundLink")],1),e._v(" for details.")])])}),[],!1,null,null,null);t.default=o.exports}}]);