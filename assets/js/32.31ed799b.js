(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{276:function(e,t,a){e.exports=a.p+"assets/img/circuit_status.c0b6d699.png"},278:function(e,t,a){e.exports=a.p+"assets/img/gps_l1_l2_zed_f9p_v3.0_bench_test.a337051b.png"},317:function(e,t,a){e.exports=a.p+"assets/img/px_listener_mag.78029d53.png"},470:function(e,t,a){e.exports=a.p+"assets/img/fix2.6907e97c.png"},471:function(e,t,a){e.exports=a.p+"assets/img/baro_msg.7b92a7fc.png"},472:function(e,t,a){e.exports=a.p+"assets/img/baro_plot.473b4bd0.png"},473:function(e,t,a){e.exports=a.p+"assets/img/mag_HMC5883L_msg.5402b561.png"},474:function(e,t,a){e.exports=a.p+"assets/img/mag_HMC5883L_plot.f0c950af.png"},475:function(e,t,a){e.exports=a.p+"assets/img/gps_mag_baro_msgs.27f5f81a.png"},753:function(e,t,a){"use strict";a.r(t);var r=a(14),o=Object(r.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"_6-dronecan-interface"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-dronecan-interface"}},[e._v("#")]),e._v(" 6. DroneCAN interface")]),e._v(" "),t("p",[e._v("This page is about DroneCAN related details such as interface, supported features, parameters, configuration, usage examples and software versions. For general information, refer to the "),t("RouterLink",{attrs:{to:"/guide/gps_mag_baro/"}},[e._v("1. General")]),e._v(" page, for hardware related details including connection example scheme please refer to the Hardware page:")],1),e._v(" "),t("ul",[t("li",[t("RouterLink",{attrs:{to:"/guide/gps_mag_baro/gps_l1_neo_m8.html"}},[e._v("L1 GPS NEO-M8")]),e._v(",")],1),e._v(" "),t("li",[t("RouterLink",{attrs:{to:"/guide/gps_mag_baro/gps_l1_l2_zed_f9p.html"}},[e._v("L1/L2 RTK GPS ZED-F9P")]),e._v(",")],1),e._v(" "),t("li",[t("RouterLink",{attrs:{to:"/guide/gps_mag_baro/mag_rm3100.html"}},[e._v("Magnetometer RM3100")]),e._v(".")],1)]),e._v(" "),t("p",[e._v("This section is related to the latest released version of the software.")]),e._v(" "),t("h2",{attrs:{id:"_6-1-dronecan-interface"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-1-dronecan-interface"}},[e._v("#")]),e._v(" 6.1. DroneCAN interface")]),e._v(" "),t("p",[e._v("This node interacts with the following messages:")]),e._v(" "),t("table",[t("thead",[t("tr",[t("th",[e._v("№")]),e._v(" "),t("th",[e._v("Type")]),e._v(" "),t("th",[e._v("Message")]),e._v(" "),t("th",[e._v("Rate")])])]),e._v(" "),t("tbody",[t("tr",[t("td",[e._v("1")]),e._v(" "),t("td",[e._v("publisher")]),e._v(" "),t("td",[t("a",{attrs:{href:"https://dronecan.github.io/Specification/7._List_of_standard_data_types/#fix2",target:"_blank",rel:"noopener noreferrer"}},[e._v("uavcan.equipment.gnss.Fix2"),t("OutboundLink")],1)]),e._v(" "),t("td",[e._v("5-10 Hz")])]),e._v(" "),t("tr",[t("td",[e._v("2")]),e._v(" "),t("td",[e._v("publisher")]),e._v(" "),t("td",[t("a",{attrs:{href:"https://dronecan.github.io/Specification/7._List_of_standard_data_types/#staticpressure",target:"_blank",rel:"noopener noreferrer"}},[e._v("uavcan.equipment.air_data.StaticPressure"),t("OutboundLink")],1)]),e._v(" "),t("td")]),e._v(" "),t("tr",[t("td",[e._v("3")]),e._v(" "),t("td",[e._v("publisher")]),e._v(" "),t("td",[t("a",{attrs:{href:"https://dronecan.github.io/Specification/7._List_of_standard_data_types/#statictemperature",target:"_blank",rel:"noopener noreferrer"}},[e._v("uavcan.equipment.air_data.StaticTemperature"),t("OutboundLink")],1)]),e._v(" "),t("td")]),e._v(" "),t("tr",[t("td",[e._v("4")]),e._v(" "),t("td",[e._v("publisher")]),e._v(" "),t("td",[t("a",{attrs:{href:"https://dronecan.github.io/Specification/7._List_of_standard_data_types/#magneticfieldstrength",target:"_blank",rel:"noopener noreferrer"}},[e._v("uavcan.equipment.ahrs.MagneticFieldStrength"),t("OutboundLink")],1)]),e._v(" "),t("td")]),e._v(" "),t("tr",[t("td",[e._v("5")]),e._v(" "),t("td",[e._v("publisher")]),e._v(" "),t("td",[t("a",{attrs:{href:"https://dronecan.github.io/Specification/7._List_of_standard_data_types/#circuitstatus",target:"_blank",rel:"noopener noreferrer"}},[e._v("uavcan.equipment.power.CircuitStatus"),t("OutboundLink")],1)]),e._v(" "),t("td")]),e._v(" "),t("tr",[t("td",[e._v("6")]),e._v(" "),t("td",[e._v("publisher")]),e._v(" "),t("td",[t("a",{attrs:{href:"https://dronecan.github.io/Specification/7._List_of_standard_data_types/#logmessage",target:"_blank",rel:"noopener noreferrer"}},[e._v("uavcan.protocol.debug.LogMessage"),t("OutboundLink")],1)]),e._v(" "),t("td")])])]),e._v(" "),t("p",[e._v("Besides required and highly recommended functions such as "),t("code",[e._v("NodeStatus")]),e._v(" and "),t("code",[e._v("GetNodeInfo")]),e._v(" this node also supports the following application-level functions:")]),e._v(" "),t("table",[t("thead",[t("tr",[t("th",[e._v("№")]),e._v(" "),t("th",[e._v("type")]),e._v(" "),t("th",[e._v("message")])])]),e._v(" "),t("tbody",[t("tr",[t("td",[e._v("1")]),e._v(" "),t("td",[e._v("RPC-service")]),e._v(" "),t("td",[t("a",{attrs:{href:"https://dronecan.github.io/Specification/7._List_of_standard_data_types/#uavcanprotocolparam",target:"_blank",rel:"noopener noreferrer"}},[e._v("uavcan.protocol.param"),t("OutboundLink")],1)])]),e._v(" "),t("tr",[t("td",[e._v("2")]),e._v(" "),t("td",[e._v("RPC-service")]),e._v(" "),t("td",[t("a",{attrs:{href:"https://dronecan.github.io/Specification/7._List_of_standard_data_types/#restartnode",target:"_blank",rel:"noopener noreferrer"}},[e._v("uavcan.protocol.RestartNode"),t("OutboundLink")],1)])]),e._v(" "),t("tr",[t("td",[e._v("3")]),e._v(" "),t("td",[e._v("RPC-service")]),e._v(" "),t("td",[t("a",{attrs:{href:"https://dronecan.github.io/Specification/7._List_of_standard_data_types/#gettransportstats",target:"_blank",rel:"noopener noreferrer"}},[e._v("uavcan.protocol.GetTransportStats"),t("OutboundLink")],1)])])])]),e._v(" "),t("p",[t("strong",[e._v("6.1.1. GNSS")])]),e._v(" "),t("p",[e._v("It communicates with the GNSS module via UART and publishes "),t("a",{attrs:{href:"https://dronecan.github.io/Specification/7._List_of_standard_data_types/#fix2",target:"_blank",rel:"noopener noreferrer"}},[e._v("uavcan.equipment.gnss.Fix2"),t("OutboundLink")],1),e._v(". Below you can see an example of the this message.")]),e._v(" "),t("p",[t("img",{attrs:{src:a(470),alt:"fix2",title:"fix2"}})]),e._v(" "),t("p",[e._v("Here the message mostly corresponds "),t("code",[e._v("NavPvt")]),e._v(" package.")]),e._v(" "),t("p",[e._v("Covariance is based on "),t("code",[e._v("NavCov")]),e._v(" package. It is Diagonal matrix (first 3 fields corresponds to the position, last 3 fields corresponds to the velocity).")]),e._v(" "),t("p",[e._v("The field "),t("code",[e._v("ecef_position_velocity")]),e._v(" is unused.")]),e._v(" "),t("p",[t("strong",[e._v("6.1.2. Barometer")])]),e._v(" "),t("p",[e._v("It publishes 2 messages:")]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://dronecan.github.io/Specification/7._List_of_standard_data_types/#staticpressure",target:"_blank",rel:"noopener noreferrer"}},[e._v("uavcan.equipment.air_data.StaticPressure"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://dronecan.github.io/Specification/7._List_of_standard_data_types/#statictemperature",target:"_blank",rel:"noopener noreferrer"}},[e._v("uavcan.equipment.air_data.StaticTemperature"),t("OutboundLink")],1)])]),e._v(" "),t("p",[t("img",{attrs:{src:a(471),alt:"baro_msg",title:"baro_msg"}})]),e._v(" "),t("p",[t("img",{attrs:{src:a(472),alt:"baro_plot",title:"baro_plot"}})]),e._v(" "),t("p",[t("strong",[e._v("6.1.3. Magnetometer")])]),e._v(" "),t("p",[e._v("Both magnetometers publish "),t("a",{attrs:{href:"https://dronecan.github.io/Specification/7._List_of_standard_data_types/#magneticfieldstrength",target:"_blank",rel:"noopener noreferrer"}},[e._v("uavcan.equipment.ahrs.MagneticFieldStrength"),t("OutboundLink")],1),e._v(".")]),e._v(" "),t("p",[e._v("Below you may see an example of HMC5883L magnetometer raw data.")]),e._v(" "),t("p",[t("img",{attrs:{src:a(473),alt:"mag_HMC5883L_msg",title:"mag_HMC5883L_msg"}})]),e._v(" "),t("p",[t("img",{attrs:{src:a(474),alt:"mag_HMC5883L_plot",title:"mag_HMC5883L_plot"}})]),e._v(" "),t("p",[t("strong",[e._v("6.1.4. Circuit status")])]),e._v(" "),t("p",[e._v("This node as well as any other our nodes measures and sends "),t("code",[e._v("5V")]),e._v(" and "),t("code",[e._v("Vin")]),e._v(" voltages as 2 "),t("a",{attrs:{href:"https://dronecan.github.io/Specification/7._List_of_standard_data_types/#circuitstatus",target:"_blank",rel:"noopener noreferrer"}},[e._v("uavcan.equipment.power.CircuitStatus"),t("OutboundLink")],1),e._v(" messages")]),e._v(" "),t("p",[e._v("The first message has "),t("code",[e._v("circuit_id=NODE_ID*10 + 0")]),e._v(" and following 3 significant fields:")]),e._v(" "),t("ol",[t("li",[e._v("voltage - is the 5V voltage")]),e._v(" "),t("li",[e._v("current - is the max current for the last 0.5 seconds (supported only by "),t("code",[e._v("5A")]),e._v(" node)")]),e._v(" "),t("li",[e._v("error_flags - might have ERROR_FLAG_OVERVOLTAGE or ERROR_FLAG_UNDERVOLTAGE or non of them")])]),e._v(" "),t("p",[e._v("The second message has "),t("code",[e._v("circuit_id=NODE_ID*10 + 1")]),e._v(" and following 3 significant fields:")]),e._v(" "),t("ol",[t("li",[e._v("voltage - is the Vin voltage")]),e._v(" "),t("li",[e._v("current - is the average current for the last 0.5 seconds (supported only by "),t("code",[e._v("5A")]),e._v(" node)")]),e._v(" "),t("li",[e._v("error_flags - ERROR_FLAG_UNDERVOLTAGE or non of them. There is no ERROR_FLAG_OVERVOLTAGE flag because the expected max Vin voltage is unknown.")])]),e._v(" "),t("p",[t("img",{attrs:{src:a(276),alt:"circuit_status",title:"circuit_status"}})]),e._v(" "),t("h2",{attrs:{id:"_6-2-dronecan-parameters"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-2-dronecan-parameters"}},[e._v("#")]),e._v(" 6.2. DroneCAN parameters")]),e._v(" "),t("p",[e._v("The device parameters are devided into a few groups: uavcan, stats, gnss, mag, baro and system.")]),e._v(" "),t("p",[e._v("The list of parameters is shown in the table below:")]),e._v(" "),t("table",[t("thead",[t("tr",[t("th",[e._v("Idx")]),e._v(" "),t("th",[e._v("Name")]),e._v(" "),t("th",[e._v("Note")]),e._v(" "),t("th",[e._v("Description")])])]),e._v(" "),t("tbody",[t("tr",[t("td",[e._v("0")]),e._v(" "),t("td",[e._v("uavcan.node_id")]),e._v(" "),t("td",[e._v("Reboot required")]),e._v(" "),t("td",[e._v("Node identifier")])]),e._v(" "),t("tr",[t("td",[e._v("1")]),e._v(" "),t("td",[e._v("flight_time_sec")]),e._v(" "),t("td"),e._v(" "),t("td",[e._v("The total flight time in seconds. Doesn't work yet, reserved for future.")])]),e._v(" "),t("tr",[t("td",[e._v("2")]),e._v(" "),t("td",[e._v("gnss.enable")]),e._v(" "),t("td"),e._v(" "),t("td",[e._v("0 means disable, 1 means enable gps")])]),e._v(" "),t("tr",[t("td",[e._v("3")]),e._v(" "),t("td",[e._v("gnss.type")]),e._v(" "),t("td",[e._v("Reboot required")]),e._v(" "),t("td",[e._v("0 means ublox, 1 means nmea (not supported yet), 2 means ublox emulation (debug only)")])]),e._v(" "),t("tr",[t("td",[e._v("4")]),e._v(" "),t("td",[e._v("gnss.cov_size")]),e._v(" "),t("td",[e._v("immutable")]),e._v(" "),t("td",[e._v("The size of the covariance matrix. Only diagonal matrix of size 6 is supported. Can be extended on request.")])]),e._v(" "),t("tr",[t("td",[e._v("5")]),e._v(" "),t("td",[e._v("gnss.pub_period_ms")]),e._v(" "),t("td"),e._v(" "),t("td",[e._v("0 means publish which receiving rate, 1-2000 means fixed rate in milliseconds")])]),e._v(" "),t("tr",[t("td",[e._v("6")]),e._v(" "),t("td",[e._v("gnss.config_delay_ms")]),e._v(" "),t("td"),e._v(" "),t("td",[e._v("250 ms between sending each command")])]),e._v(" "),t("tr",[t("td",[e._v("7")]),e._v(" "),t("td",[e._v("gnss.config_request")]),e._v(" "),t("td",[e._v("Reboot required")]),e._v(" "),t("td",[e._v("Force the GNSS configuration if the parameter value is 1 during the initialization of the node. This paramter will automatically set to 0 after the configuration.")])]),e._v(" "),t("tr",[t("td",[e._v("8")]),e._v(" "),t("td",[e._v("gnss.stats_rx")]),e._v(" "),t("td",[e._v("Read only")]),e._v(" "),t("td",[e._v("The total number of RX bytes for the last 10 seconds")])]),e._v(" "),t("tr",[t("td",[e._v("9")]),e._v(" "),t("td",[e._v("gnss.stats_navpvt_rx")]),e._v(" "),t("td",[e._v("Read only")]),e._v(" "),t("td",[e._v("The total number of NavPVT messages for the last 10 seconds")])]),e._v(" "),t("tr",[t("td",[e._v("10")]),e._v(" "),t("td",[e._v("gnss.stats_navstatus_rx")]),e._v(" "),t("td",[e._v("Read only")]),e._v(" "),t("td",[e._v("The total number of NavStatus messages for the last 10 seconds")])]),e._v(" "),t("tr",[t("td",[e._v("11")]),e._v(" "),t("td",[e._v("gnss.stats_navcov_rx")]),e._v(" "),t("td",[e._v("Read only")]),e._v(" "),t("td",[e._v("The total number of NavCov messages for the last 10 seconds")])]),e._v(" "),t("tr",[t("td",[e._v("12")]),e._v(" "),t("td",[e._v("gnss.status")]),e._v(" "),t("td",[e._v("Read only")]),e._v(" "),t("td",[e._v("Bitmask with error codes")])]),e._v(" "),t("tr",[t("td",[e._v("13")]),e._v(" "),t("td",[e._v("gnss.baudrate")]),e._v(" "),t("td",[e._v("Read only")]),e._v(" "),t("td",[e._v("Currently, 921600 is only supported.")])]),e._v(" "),t("tr",[t("td",[e._v("14")]),e._v(" "),t("td",[e._v("crct.enable_5v_check")]),e._v(" "),t("td"),e._v(" "),t("td",[e._v("Set ERROR status if 5V voltage is out of range 4.5 - 5.5 V")])]),e._v(" "),t("tr",[t("td",[e._v("15")]),e._v(" "),t("td",[e._v("crct.enable_vin_check")]),e._v(" "),t("td",[e._v("Read only")]),e._v(" "),t("td",[e._v("Set ERROR status if Vin voltage is less than 4.5 V. Not implemented yet.")])]),e._v(" "),t("tr",[t("td",[e._v("16")]),e._v(" "),t("td",[e._v("mag.enable")]),e._v(" "),t("td",[e._v("Reboot required")]),e._v(" "),t("td",[e._v("0 means disable, 1 means enable magnetometer")])]),e._v(" "),t("tr",[t("td",[e._v("17")]),e._v(" "),t("td",[e._v("mag.type")]),e._v(" "),t("td",[e._v("Reboot required")]),e._v(" "),t("td",[e._v("0 means RM3100 (is recommended, by defaul), 1 means HMC5883L.")])]),e._v(" "),t("tr",[t("td",[e._v("18")]),e._v(" "),t("td",[e._v("mag.pub_frequency")]),e._v(" "),t("td"),e._v(" "),t("td",[e._v("The maximum publish rate. This value is actually limited be the sensor type (mag_type). RM3100 rate is up to 75 Hz. HMC5883L rate is up to 30 Hz.")])]),e._v(" "),t("tr",[t("td",[e._v("19")]),e._v(" "),t("td",[e._v("mag.status")]),e._v(" "),t("td",[e._v("Read only")]),e._v(" "),t("td",[e._v("Bitmask with error codes")])]),e._v(" "),t("tr",[t("td",[e._v("20")]),e._v(" "),t("td",[e._v("baro.enable")]),e._v(" "),t("td",[e._v("Reboot required")]),e._v(" "),t("td",[e._v("0 means disable, 1 means enable barometer")])]),e._v(" "),t("tr",[t("td",[e._v("21")]),e._v(" "),t("td",[e._v("baro.pub_frequency")]),e._v(" "),t("td"),e._v(" "),t("td",[e._v("Publish rate")])]),e._v(" "),t("tr",[t("td",[e._v("22")]),e._v(" "),t("td",[e._v("baro.status")]),e._v(" "),t("td",[e._v("Read only")]),e._v(" "),t("td",[e._v("Bitmask with error codes")])]),e._v(" "),t("tr",[t("td",[e._v("23")]),e._v(" "),t("td",[e._v("system.log_level")]),e._v(" "),t("td"),e._v(" "),t("td",[e._v("Specify what level of log can be sent. Appeared since v0.5.2")])]),e._v(" "),t("tr",[t("td",[e._v("24")]),e._v(" "),t("td",[e._v("system.can_bus_check_level")]),e._v(" "),t("td"),e._v(" "),t("td",[e._v("Every CAN bus error will be treated as a specified level of error. Appeared since v0.9.8")])]),e._v(" "),t("tr",[t("td",[e._v("25")]),e._v(" "),t("td",[e._v("uavcan.node.name")]),e._v(" "),t("td",[e._v("Reboot required")]),e._v(" "),t("td",[e._v("Custom name of the node. By default the name is Unknown.")])])])]),e._v(" "),t("h2",{attrs:{id:"_6-3-getting-started-bench-test"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-3-getting-started-bench-test"}},[e._v("#")]),e._v(" 6.3. Getting started (bench test)")]),e._v(" "),t("p",[e._v("Before mounting on a real vehicle, especially when using the node for the first time, it is recommended to test the node and perform configuration on a bench using "),t("a",{attrs:{href:"https://github.com/dronecan/gui_tool",target:"_blank",rel:"noopener noreferrer"}},[e._v("gui_tool"),t("OutboundLink")],1),e._v(". This utility allows to easily use the full functionality of the node.")]),e._v(" "),t("p",[e._v("The following checklist allows you to test most of the features and configure the most important parameters.")]),e._v(" "),t("p",[t("strong",[e._v("Step 1. Connect the node to a sniffer. The node should blink.")])]),e._v(" "),t("p",[e._v("The simplest connection scheme just for bench testing and configuration is shown below.")]),e._v(" "),t("p",[t("img",{attrs:{src:a(278),alt:"gnss L1 L2 ZED F9P v3.0 bench test",title:"gnss L1 L2 ZED F9P v3.0 bench test"}})]),e._v(" "),t("p",[e._v("Here, the gnss "),t("code",[e._v("L1 L2 ZED F9P v3.0")]),e._v(" node is connected with a CAN sniffer via JST-GH 4 connector. The sniffer is connected to PC via USB and power the node. The similar connection scheme is valid for any other gnss board.")]),e._v(" "),t("p",[e._v("Alternatively, in a vehicle you may want to connect the node via Molex CAN connector.")]),e._v(" "),t("p",[e._v("By the LED color you can determine the node state:")]),e._v(" "),t("ul",[t("li",[e._v("Blue/Red blinking means it is in initialization mode. Typically, it takes few seconds.")]),e._v(" "),t("li",[e._v("Orange blinking means either something is not properly configured or something wrong.")]),e._v(" "),t("li",[e._v("Red blinking means some critical error. It is related to a software or hardware issue.")]),e._v(" "),t("li",[e._v("Normally, the node should blink with blue or green color. Green color means that node has 8+ sattelites.")])]),e._v(" "),t("p",[e._v("Please, refer to "),t("RouterLink",{attrs:{to:"/guide/intro/leds.html"}},[e._v("the LED meaning page")]),e._v(" for details.")],1),e._v(" "),t("p",[t("strong",[e._v("Step 2. Open gui_tool and set the local node ID. The node should send data and respond to GetNodeInfo")])]),e._v(" "),t("p",[e._v("Apply the Local Node ID by clicking the button in the corresponding field at the top.")]),e._v(" "),t("p",[e._v("Open "),t("code",[e._v("gui_tool")]),e._v(" and check that the node publishes some data like "),t("code",[e._v("NodeStatus")]),e._v(" and "),t("code",[e._v("GetNodeInfo")]),e._v(". You can quickly press 2 times on the node in "),t("code",[e._v("Online nodes")]),e._v(" list. You should be able to see additional information such as node name, software version, UID, etc.")]),e._v(" "),t("p",[e._v("The node should respond with the software version that suits you (probably it should be the latest available stable version).")]),e._v(" "),t("blockquote",[t("p",[e._v("If your node doesn't send "),t("code",[e._v("GetNodeInfo")]),e._v(" it probably means that your gui_tool is still in anonymous mode. Apply local node ID.")])]),e._v(" "),t("p",[t("strong",[e._v("Step 3. Configure the node ID, store parameters, then reboot it. ID value should be updated.")])]),e._v(" "),t("p",[e._v("Select the node ID by changing "),t("code",[e._v("uavcan.node_id")]),e._v(" that fits your CAN-network without ID-collision.")]),e._v(" "),t("p",[t("strong",[e._v("Step 4. Check CircuitStatus. The node should measure the input voltages and temperature correctly.")])]),e._v(" "),t("p",[e._v("Use Tools > Subscriber to look at topics.")]),e._v(" "),t("p",[e._v("If you power a node from USB, the voltage should be ~5V.")]),e._v(" "),t("p",[e._v("The temperature may be a slightly higher than in your room.")]),e._v(" "),t("p",[t("strong",[e._v("Step 5. Open subscriber panel. The node should publish gnss, magnetometer and barometer data.")])]),e._v(" "),t("p",[e._v("Below you can see an example of a messages.")]),e._v(" "),t("p",[t("img",{attrs:{src:a(475),alt:"gps_mag_baro",title:"gps_mag_baro"}})]),e._v(" "),t("h2",{attrs:{id:"_6-4-px4-integration"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-4-px4-integration"}},[e._v("#")]),e._v(" 6.4. PX4 integration")]),e._v(" "),t("p",[e._v("The node has been tested multiple times on the VTOL application with autopilot based on PX4 with defferent version (v1.12, v1.13, etc).")]),e._v(" "),t("p",[e._v("Typically, you need to setup the following parameters:")]),e._v(" "),t("ul",[t("li",[e._v("UAVCAN_ENABLE")]),e._v(" "),t("li",[e._v("UAVCAN_SUB_BARO")]),e._v(" "),t("li",[e._v("UAVCAN_SUB_GPS")]),e._v(" "),t("li",[e._v("UAVCAN_SUB_MAG")])]),e._v(" "),t("p",[e._v("If the device is configured correctly and the number of used satelites is enough, you will see the vehicle postion in QGC.")]),e._v(" "),t("p",[e._v("You can visualize the sensor data in MAVLink console. For example, for magnetometer you will see something like on the picture below:")]),e._v(" "),t("p",[t("img",{attrs:{src:a(317),alt:"px_listener_mag",title:"px_listener_mag"}})]),e._v(" "),t("p",[e._v("You can also see data in MAVLink Instector for each sensor.")]),e._v(" "),t("p",[e._v("(in process) We have a few particular examples of using this board with PX4 based vehicles:")]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://docs.raccoonlab.co/guide/examples/plane.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Plane V-Tail"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://docs.raccoonlab.co/guide/examples/talon.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Standard VTOL"),t("OutboundLink")],1)])]),e._v(" "),t("h2",{attrs:{id:"_6-5-ardupilot-integration"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-5-ardupilot-integration"}},[e._v("#")]),e._v(" 6.5. ArduPilot integration")]),e._v(" "),t("p",[e._v("ArduPilot supports only Fix2 message, so older firmwares are not supoorted.")]),e._v(" "),t("p",[e._v("For DroneCAN GNSS you should set "),t("code",[e._v("GPS_TYPE")]),e._v(" = 9.")]),e._v(" "),t("h2",{attrs:{id:"_6-6-software-versions"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-6-software-versions"}},[e._v("#")]),e._v(" 6.6. Software versions")]),e._v(" "),t("p",[e._v("The software is the same for both "),t("code",[e._v("L1 NEO-M8M")]),e._v(" and "),t("code",[e._v("L1/L2 ZED F9P")]),e._v(" based devices. The only important is to use the proper hardware version.")]),e._v(" "),t("p",[e._v("The following software is related to hardware version v2.3 and higher:")]),e._v(" "),t("table",[t("thead",[t("tr",[t("th",[e._v("Version")]),e._v(" "),t("th",[e._v("Description")])])]),e._v(" "),t("tbody",[t("tr",[t("td",[e._v("v0.14"),t("br"),e._v("...")]),e._v(" "),t("td",[e._v("Development state."),t("br"),e._v("- Add RTK mode, spoofing and jamming bits and more.")])]),e._v(" "),t("tr",[t("td",[t("a",{attrs:{href:"https://github.com/RaccoonlabDev/docs/releases/tag/v0.13.6",target:"_blank",rel:"noopener noreferrer"}},[e._v("v0.13.6_7c549af4"),t("OutboundLink")],1),t("br"),e._v("Oct 3, 2024")]),e._v(" "),t("td",[e._v("- Fix ublox UTC timestamp")])]),e._v(" "),t("tr",[t("td",[t("a",{attrs:{href:"https://github.com/RaccoonlabDev/docs/releases/tag/v0.13.5",target:"_blank",rel:"noopener noreferrer"}},[e._v("v0.13.5_d9265dd"),t("OutboundLink")],1),t("br"),e._v("Apr 2, 2024")]),e._v(" "),t("td",[e._v("- Fix barometer issue")])]),e._v(" "),t("tr",[t("td",[t("a",{attrs:{href:"https://github.com/RaccoonlabDev/docs/releases/tag/v0.12.1",target:"_blank",rel:"noopener noreferrer"}},[e._v("v0.12.1_e0ba916"),t("OutboundLink")],1),t("br"),e._v("Aug 1, 2023")]),e._v(" "),t("td",[e._v("- Make warnings less strict "),t("br"),e._v(" - Add gnss baudrate param (read only for a while)")])]),e._v(" "),t("tr",[t("td",[e._v("v0.11"),t("br"),e._v("June, 2023")]),e._v(" "),t("td",[e._v("- Add automaticall gnss configuration, "),t("br"),e._v("- Add meaningful default node name (it was unknown by default),"),t("br"),e._v("- Improve self-diagnostic for gnss and magnetomer,"),t("br"),e._v("- Add status parameters with error codes,"),t("br"),e._v("- Add LED idnication for an initialization process.")])]),e._v(" "),t("tr",[t("td",[t("a",{attrs:{href:"https://github.com/RaccoonlabDev/docs/releases/tag/v0.10.19",target:"_blank",rel:"noopener noreferrer"}},[e._v("v0.10.19_5e9b7a5"),t("OutboundLink")],1),t("br"),e._v("May 17, 2023")]),e._v(" "),t("td",[e._v("- Fix pdop and covariance (they were integers).")])]),e._v(" "),t("tr",[t("td",[t("a",{attrs:{href:"https://github.com/RaccoonlabDev/docs/releases/tag/v0.10.18",target:"_blank",rel:"noopener noreferrer"}},[e._v("v0.10.18_de81a74"),t("OutboundLink")],1),t("br"),e._v("May 4, 2023")]),e._v(" "),t("td",[e._v("- Use Fix2 instead of Fix."),t("br"),e._v("- Add covariance, log messages and external LEDs."),t("br"),e._v("- Rename all parameters.")])])])]),e._v(" "),t("p",[e._v("Legacy. The following software is related to hardware version v2.2 and lower:")]),e._v(" "),t("table",[t("thead",[t("tr",[t("th",[e._v("Version")]),e._v(" "),t("th",[e._v("Description")])])]),e._v(" "),t("tbody",[t("tr",[t("td",[t("a",{attrs:{href:"https://github.com/RaccoonlabDev/docs/releases/tag/v0.5.2-stable",target:"_blank",rel:"noopener noreferrer"}},[e._v("v0.4.8.2_47ee2ef"),t("OutboundLink")],1),t("br"),e._v("Apr 5, 2022")]),e._v(" "),t("td",[e._v("- Several fixes including internal LED, circuit status, barometer temperature, etc")])]),e._v(" "),t("tr",[t("td",[t("a",{attrs:{href:"https://github.com/RaccoonlabDev/docs/releases/tag/v0.4.5",target:"_blank",rel:"noopener noreferrer"}},[e._v("v0.4.1.1 6ed1845"),t("OutboundLink")],1),t("br"),e._v("Nov 24, 2021")]),e._v(" "),t("td",[e._v("- Add RGB LEDs")])]),e._v(" "),t("tr",[t("td",[t("a",{attrs:{href:"https://github.com/RaccoonlabDev/docs/releases/tag/v0.3.0-alpha",target:"_blank",rel:"noopener noreferrer"}},[e._v("v0.2.9_7baa09b"),t("OutboundLink")],1),t("br"),e._v("Apr 5, 2021")]),e._v(" "),t("td",[e._v("- Add first release")])])])]),e._v(" "),t("p",[e._v("For hardware version v3, only Cyphal software is currently supported.")])])}),[],!1,null,null,null);t.default=o.exports}}]);